=== Sitecom WL-173 ===
The Sitecom WL-173 is a 54 Mbit (with turbo mode) wireless broadband router. It's original firmware is based on uClinux (Firmware 1.28) and a Realtek RTL8650B chip at 200 MHz is used. The following pictures were taken from a WL-173 v1 001.

 . attachment:outsideWL173.jpg
=== Opening the WL-173 ===
There are four screws. Two are not hidden. The other screws are located underneath the little rubber feet near the front of the router.

=== The board and components of the WL-173 ===
 . attachment:boardWL173_s.jpg
High resolution pictures upside: [attachment:boardWL173_1.jpg Part1] and [attachment:boardWL173_2.jpg Part2].

Low resolution picure downside: [attachment:boardWL173_down.jpg Down]

 * CPU: Realtek RTL8650B at 200 MHz http://www.realtek.com.tw/products/productsView.aspx?Langid=1&PNid=9&PFid=11&Level=4&Conn=3&ProdID=70
 * RAM: 2x PSC A2V64S40CTP รก 64Mbit (?)
 * ROM: Spansion S29Al016D 16Mbit/70ns http://www.spansion.com/datasheets/s29al016d_00_a5_e.pdf

=== WL-173 firmware ===
The firmware source code and the toolchain: http://www.sitecom.com/drivers_result.php?groupid=5&productid=528

File format of the official firmware (1.28) from the Sitecom website:

__'''Firmware Header:'''__
||<tablewidth="1012px" tablestyle="text-align: left;">0000:0000 || 59 a0 e8 42 ||"Magical number" ||
|| ... || || ||
|| 0000:0016 || 60 12 || Firmware body checksum 0x60 at offset 0000:0016 and firmware header checksum 0x12 at offset 0000:0017 ||


__'''Kernel block:'''__
||<tablewidth="1055px" tablestyle="text-align: left;"> Header: || || ||
||0000:0018 ||59 a0 e8 42 ||"Magical number" ||
||... || || ||
||0000:002e ||de c7 ||Kernel block body checksum 0xde at offset 0000:002e and kernel block header checksum 0xc7 at offset 0000:002f ||
||Kernel: || || ||
||0000:0030 ||5d 00 00 ||Kernel starts at address  0000:0030 ||
||... || || ||
||000c:251a ||d7 00 00 ||Kernel ends in this file here; 0xd7 is the last byte of the compressed kernel code ||
||... || || ||
||000c:7ffc ||00 00 00  00 || 0x00 filling bytes until 000c:7fff ||


__'''SquashFS:'''__
||<tablewidth="1062px" tablestyle="text-align: left;">000c:8000 ||73 71 73 68 ||SquashFS is starting here 0x73717368 (= "sqsh") ||
||... || || ||
||001a:e050 ||01 f4 00 00 ||SquashFS ends at 001a:e051; 0xf4 is the last byte ... end of file filled with zeros ||


 * Special header with "Magic Number" 0x59a0e842, checksum of following data(kernel and romfs) __ __
 * Next in flashfile is the kernel also with special header and "Magic Byte sequence", checksum of kernel etc
 * Some filling 0x00 bytes follow
 * and after that the SquashFS-LZMA

The special header is generated by the binary "packbin" from the source package.
 * In this firmware file (1.28) the kernel and squashfs are lzma compressed.
 * Original 1.28 firmware image from Sitecom website: [attachment:Sitecom_WL-173_1.28.bin WL-173 Firmware]
 * Extracted and decompressed kernel image: [attachment:Sitecom_WL-173_1.28.kernel WL-173 Kernel]
 * Extracted SquashFS (LZMA compressed): [attachment:Sitecom_WL-173_1.28.squashfslzma WL-173 SquashFS-LZMA]
 * Uncompressed and "unsquashed" root file system: [attachment:Sitecom_WL-173_1.28_rootfs.tar.gz WL-173 RootFS]

=== TODO ===
 * Integrate SSH daemon for shell access
 * TFTPD upload after reset
 * Recovery (JTAG, serial ...)
 * Get RTL8650B data sheet

=== Installing OpenWrt ===
Not tested. No JTAG found for recovery...RTL8650B data sheet needed.
